<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/apache.jpg?v=5.0.1" />






<meta name="description" content="649766951|北京">
<meta property="og:type" content="website">
<meta property="og:title" content="梦想家Haima's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="梦想家Haima's blog">
<meta property="og:description" content="649766951|北京">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="梦想家Haima's blog">
<meta name="twitter:description" content="649766951|北京">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: false,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 梦想家Haima's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?5c87d4c7234ccd7738367ee9a577fd58";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">梦想家Haima's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Life is beautiful,so make IT wonderful.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat fa-fw"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/22/Log4J/" itemprop="url">
                  Log4J简单应用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-22T20:04:26+08:00" content="2016-05-22">
              2016-05-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/22/Log4J/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/22/Log4J/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>log4j.properties 内容：</p>
<pre><code>log4j.rootLogger=DEBUG,stdout,
log4j.logger.access =INFO,stdout,access

### stdout ###
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern= %d{yyyy -MM-dd HH:mm:ss} %c{1} [%p] %m%n

### access ###
log4j.appender.access=org.apache.log4j.DailyRollingFileAppender
log4j.appender.access.File=/opt/data/access.log
log4j.appender.access.Append=true
log4j.appender.access.DatePattern=&apos;.&apos;yyyy-MM-dd
log4j.appender.access.layout=org.apache.log4j.PatternLayout
log4j.appender.access.layout.ConversionPattern= %m%n
</code></pre><p>log4j.properties 需要放在项目的classpath下面，一般放在名为resources 的source folder中</p>
<p>log4j中打印日志的基本单位是Logger<br>log4j.rootLogger 是最基础的Logger，是所有Logger都需要同时打印的。<br>定义Logger的方法是log4j.logger.logname=inforstandard,appendername ….<br>其中logname是定义logger的名字，inforstandard 是该Logger的日志级别，appendername 是该日志使用的appender</p>
<p>日志级别包括： TRACE,DEBUG,INFO,WARN,ERROR,FATAL。一个logger只有一个日志级别，可以有多个<br>TRACE,<br>DEBUG,<br>INFO,<br>WARN,<br>ERROR and<br>FATAL</p>
<p>appender 是输出时的基本工具，你可以把它看作是System.out.print()。 appender可以有多个</p>
<p>接下来的appender 是一个类。这个类都实现了 org.apache.log4j.Appender 接口<br>log4j中的配置文件 log4j.appender.stdout.layout配置的值，其实是将该值通过Appender中的setLayout()方法注入的</p>
<p>配置好log4J的配置文件后，就可以在JAVA代码中使用了。</p>
<p>public static void main(String[] args) {<br>            Logger loger= Logger.getLogger( “access”);<br>             loger.info(“I am a access log4j” );<br>            Logger logger= Logger.getLogger(Flume4Log4J. class);<br>             loger.info(“ddd” );<br>      }</p>
<p>因为自定义logger “access ” 中定义了两个appender,一个使用控制台输出了，一个输出到文件了。<br>【注】 windows下面 /opt/data/access.log  会输出到项目所在盘的 /opt/data/access.log下。<br>java项目放在e盘的话，就会输出到E:\opt\data\access.log</p>
<p>2016-05-21 17:20:55 access [INFO] I am a access log4j<br>2016-05-21 17:20:55 access [INFO] ddd</p>
<p>用JAVA代码也可以实现配置文件相同功能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">	Logger logger = Logger.getLogger(<span class="string">"hhh"</span>);</span><br><span class="line">	logger.setLevel(Level.DEBUG);</span><br><span class="line"></span><br><span class="line">	org.apache.log4j.ConsoleAppender appender = </span><br><span class="line">			<span class="keyword">new</span> org.apache.log4j.ConsoleAppender();</span><br><span class="line">	appender.setName(<span class="string">"sta"</span>);</span><br><span class="line">	appender.setTarget(<span class="string">"System.out"</span>);</span><br><span class="line">	appender.setWriter(<span class="keyword">new</span> FileWriter(<span class="keyword">new</span> File(<span class="string">"e:/test.txt"</span>)));</span><br><span class="line"></span><br><span class="line">	org.apache.log4j.PatternLayout layout = <span class="keyword">new</span> PatternLayout();</span><br><span class="line">	layout.setConversionPattern(<span class="string">"%d&#123;yyyy-MM-dd HH:mm:ss&#125; %c&#123;1&#125; [%p] %m%n"</span>);</span><br><span class="line">	appender.setLayout(layout);</span><br><span class="line"></span><br><span class="line">	logger.addAppender(appender);</span><br><span class="line"></span><br><span class="line">	logger.info(<span class="string">"log4j of JAVA Code"</span>);</span><br><span class="line"></span><br><span class="line">	Logger loggerRoot = Logger.getRootLogger();</span><br><span class="line">	logger.warn(<span class="string">"ddd"</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要引入的包</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Level;</span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.PatternLayout;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/12/Zookeeper.install.distributed/" itemprop="url">
                  Zookeeper之集群安装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-12T23:16:58+08:00" content="2016-05-12">
              2016-05-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Zookeeper/" itemprop="url" rel="index">
                    <span itemprop="name">Zookeeper</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/12/Zookeeper.install.distributed/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/12/Zookeeper.install.distributed/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="准备Linux"><a href="#准备Linux" class="headerlink" title="准备Linux"></a>准备Linux</h1><ul>
<li>首先配置三台Linux，网络相互能通信，可以用虚拟机(vmware)模拟。</li>
<li>通过/etc/hosts配置好三台机器的hostname。主机映射在每台Linux中均要配置。</li>
<li><p>也就是说在每台机器上的/etc/hosts中都要写入以下主机名配置</p>
<pre><code>192.168.12.114 haima1
192.168.12.115 haima2
192.168.12.116 haima3
</code></pre></li>
</ul>
<blockquote>
<p>前面为ip,后面为主机名hostname</p>
</blockquote>
<h1 id="单机安装"><a href="#单机安装" class="headerlink" title="单机安装"></a>单机安装</h1><blockquote>
<p>以下操作都是在其中一台机器上的操作。</p>
</blockquote>
<h2 id="下载解压"><a href="#下载解压" class="headerlink" title="下载解压"></a>下载解压</h2><ul>
<li>前往官网（<a href="https://zookeeper.apache.org/" title="https://zookeeper.apache.org/" target="_blank" rel="external">https://zookeeper.apache.org/</a>）下载</li>
<li><a href="http://www.apache.org/dyn/closer.cgi/zookeeper/" target="_blank" rel="external">http://www.apache.org/dyn/closer.cgi/zookeeper/</a> </li>
<li>进入到下载列表中选择一个版本，目前是3.4.6稳定版</li>
<li>下载.tar.gz为结尾的压缩包。通过winscp工具上传Linux环境(可以wget直接下载到Linux环境)</li>
</ul>
<blockquote>
<p>解压</p>
</blockquote>
<pre><code>tar -zxvf zookeeper-3.4.6.tar.gz 解压
mv  zookeeper-3.4.6  zookeeper  重命名
</code></pre><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="创建-zoo-cfg"><a href="#创建-zoo-cfg" class="headerlink" title="创建 zoo.cfg"></a>创建 zoo.cfg</h3><pre><code>cd /opt/zookeeper/conf        【注意】 /opt/zookeeper/ 为你的zookeeper解压目录
cp zoo_sample.cfg zoo.cfg
</code></pre><h3 id="修改zoo-cfg"><a href="#修改zoo-cfg" class="headerlink" title="修改zoo.cfg"></a>修改zoo.cfg</h3><pre><code>dataDir=/opt/zookeeper/tmp
</code></pre><blockquote>
<p>在末尾追加集群关键配置</p>
</blockquote>
<pre><code>server.1=haima1:2888:3888
server.2=haima2:2888:3888
server.3=haima3:2888:3888
</code></pre><h3 id="修改log4j配置"><a href="#修改log4j配置" class="headerlink" title="修改log4j配置"></a>修改log4j配置</h3><blockquote>
<p>在zoo.cfg同目录下修改log4j.properties，便于查看zookeeper运行日志</p>
</blockquote>
<pre><code>zookeeper.log.dir=/opt/zookeeper/logs      
zookeeper.tracelog.dir=/opt/zookeeper/logs
</code></pre><h3 id="修改zkEnv-sh"><a href="#修改zkEnv-sh" class="headerlink" title="修改zkEnv.sh"></a>修改zkEnv.sh</h3><blockquote>
<p>vi /opt/zookeeper/bin/zkEnv.sh<br>在ZOOKEEPER_PREFIX=”${ZOOBINDIR}/..”的下面一行<br>添加如下语句：</p>
</blockquote>
<pre><code>ZOO_LOG_DIR=/opt/zookeeper/logs
</code></pre><h2 id="设置id"><a href="#设置id" class="headerlink" title="设置id"></a>设置id</h2><blockquote>
<p>在/opt/zookeeper/data 的myid文件中 写入该zookeeper服务的id</p>
</blockquote>
<pre><code>echo &quot;1&quot; &gt; myid    //写入的&quot;1&quot;与server.1=haima1:2888:3888 对应
</code></pre><h1 id="拷贝"><a href="#拷贝" class="headerlink" title="拷贝"></a>拷贝</h1><blockquote>
<p>将配置好的zookeeper拷贝到另外两台Linux机器上，这样可以减少工作量</p>
</blockquote>
<pre><code>scp -r /opt/zookeeper/ root@haima2:/opt/
scp -r /opt/zookeeper/ root@haima3:/opt/
</code></pre><blockquote>
<p>修改另外两台linux中zookeeper的id</p>
</blockquote>
<pre><code>echo &quot;2&quot; &gt; myid  //在haima2机器中
echo &quot;3&quot; &gt; myid  //在haima3机器中
</code></pre><h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><blockquote>
<p>分别启动三个Linux中的zookeeper</p>
</blockquote>
<pre><code>/opt/zookeeper/bin/zkServer.sh start
</code></pre><blockquote>
<p>启动完成之后，查看单机运行状态</p>
</blockquote>
<pre><code># jps
3757 Jps
2963 QuorumPeerMain //zookeeper的进程名，表示成功
</code></pre><blockquote>
<p>如果未运行成功，查看日志排查单机启动问题</p>
</blockquote>
<pre><code>tail -f /opt/zookeeper/logs/zookeeper.out
</code></pre><blockquote>
<p>三台机器都运行成功后，查看集群状态</p>
</blockquote>
<pre><code># /usr/local/zookeeper/bin/zkServer.sh status
JMX enabled by default
Using config: /usr/local/zookeeper/bin/../conf/zoo.cfg
Mode: leader    //主节显示leader,重节点会显示follower
</code></pre>
          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/Hadoop.MapReduce/" itemprop="url">
                  Hadoop 之MapReduce（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T19:56:57+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Hadoop/" itemprop="url" rel="index">
                    <span itemprop="name">Hadoop</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/Hadoop.MapReduce/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/Hadoop.MapReduce/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>MapReduce是一种编程模型。是一种分布式计算模型。MapReduce计算模型是基于Hadoop 文件系统Hdfs的文件系统。</p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><blockquote>
<p>映射（Mapping）对集合里的每个目标应用同一个操作。即，如果你想把表单里每个单元格乘以二，那么把这个函数单独地应用在每个单元格上的操作就属于mapping。</p>
</blockquote>
<h2 id="分组排列"><a href="#分组排列" class="headerlink" title="分组排列"></a>分组排列</h2><blockquote>
<p>在Reduce任务开始之前，会将Map中的键值对进行分组排序，相同的键将被分为同一组，而值将被保存到一个队列中。然后再按值排序。</p>
</blockquote>
<h2 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h2><blockquote>
<p>化简（Reducing ）遍历集合中的元素来返回一个综合的结果。即，输出表单里一列数字的和这个任务属reducing。</p>
</blockquote>
<p><img src="/images/hadoop.maperduce_1.png" alt="MapReduce原理"></p>
<h2 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h2><blockquote>
<p>我自己关于mapreduce的理解是，好比炒菜，将食材切片则像是map，而下过烹饪则像是reduce的过程，而只是map和reduce的过程是分布式的。</p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/05/09/Hadoop.MapReduce/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/Hadoop.hdfs/" itemprop="url">
                  Hadoop 之hdfs（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-08T19:46:17+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Hadoop/" itemprop="url" rel="index">
                    <span itemprop="name">Hadoop</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/Hadoop.hdfs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/Hadoop.hdfs/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="hdfs-命令行shell"><a href="#hdfs-命令行shell" class="headerlink" title="hdfs 命令行shell"></a>hdfs 命令行shell</h1><p>hdfs 命令行shell 是在Linux操作 hdfs 的接口，或者说工具</p>
<blockquote>
<p>shell列表</p>
</blockquote>
<pre><code>[-appendToFile &lt;localsrc&gt; ... &lt;dst&gt;]
[-cat [-ignoreCrc] &lt;src&gt; ...]
[-checksum &lt;src&gt; ...]
[-chgrp [-R] GROUP PATH...]
[-chmod [-R] &lt;MODE[,MODE]... | OCTALMODE&gt; PATH...]
[-chown [-R] [OWNER][:[GROUP]] PATH...]
[-copyFromLocal [-f] [-p] [-l] &lt;localsrc&gt; ... &lt;dst&gt;]
[-copyToLocal [-p] [-ignoreCrc] [-crc] &lt;src&gt; ... &lt;localdst&gt;]
[-count [-q] [-h] &lt;path&gt; ...]
[-cp [-f] [-p | -p[topax]] &lt;src&gt; ... &lt;dst&gt;]
[-createSnapshot &lt;snapshotDir&gt; [&lt;snapshotName&gt;]]
[-deleteSnapshot &lt;snapshotDir&gt; &lt;snapshotName&gt;]
[-df [-h] [&lt;path&gt; ...]]
[-du [-s] [-h] &lt;path&gt; ...]
[-expunge]
[-get [-p] [-ignoreCrc] [-crc] &lt;src&gt; ... &lt;localdst&gt;]
[-getfacl [-R] &lt;path&gt;]
[-getfattr [-R] {-n name | -d} [-e en] &lt;path&gt;]
[-getmerge [-nl] &lt;src&gt; &lt;localdst&gt;]
[-help [cmd ...]]
[-ls [-d] [-h] [-R] [&lt;path&gt; ...]]
[-mkdir [-p] &lt;path&gt; ...]
[-moveFromLocal &lt;localsrc&gt; ... &lt;dst&gt;]
[-moveToLocal &lt;src&gt; &lt;localdst&gt;]
[-mv &lt;src&gt; ... &lt;dst&gt;]
[-put [-f] [-p] [-l] &lt;localsrc&gt; ... &lt;dst&gt;]
[-renameSnapshot &lt;snapshotDir&gt; &lt;oldName&gt; &lt;newName&gt;]
[-rm [-f] [-r|-R] [-skipTrash] &lt;src&gt; ...]
[-rmdir [--ignore-fail-on-non-empty] &lt;dir&gt; ...]
[-setfacl [-R] [{-b|-k} {-m|-x &lt;acl_spec&gt;} &lt;path&gt;]|[--set &lt;acl_spec&gt; &lt;path&gt;]]
[-setfattr {-n name [-v value] | -x name} &lt;path&gt;]
[-setrep [-R] [-w] &lt;rep&gt; &lt;path&gt; ...]
[-stat [format] &lt;path&gt; ...]
[-tail [-f] &lt;file&gt;]
[-test -[defsz] &lt;path&gt;]
[-text [-ignoreCrc] &lt;src&gt; ...]
[-touchz &lt;path&gt; ...]
[-usage [cmd ...]]
</code></pre>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/05/08/Hadoop.hdfs/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/03/Redis.brief/" itemprop="url">
                  Redis 入门基础篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-03T11:53:16+08:00" content="2016-05-03">
              2016-05-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Redis/" itemprop="url" rel="index">
                    <span itemprop="name">Redis</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/03/Redis.brief/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/03/Redis.brief/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>redis 是基于键值对的数据库，是一个非关系型数据库（nosql）。redis是基于内存的数据库，常用于网站缓存。目前支持 strings, hashes, lists, sets, sorted sets, bitmaps, hyperloglogs , geospatial indexes数据类型的存储。</p>
<p><strong>官方介绍摘要</strong></p>
<blockquote>
<p>Redis is an open source (BSD licensed), in-memory data structure store, used as database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs and geospatial indexes with radius queries. Redis has built-in replication, Lua scripting, LRU eviction, transactions and different levels of on-disk persistence, and provides high availability via Redis Sentinel and automatic partitioning with Redis Cluster.</p>
</blockquote>
<h1 id="安装运行"><a href="#安装运行" class="headerlink" title="安装运行"></a>安装运行</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code># wget http://download.redis.io/releases/redis-3.0.7.tar.gz
# tar xzf redis-3.0.7.tar.gz
# cd redis-3.0.7
# make
# make install
</code></pre><ul>
<li>第一步 下载redis压缩包  在Linux中用wget命令。前提是当前linux能联网。或者手动去官网下载压缩包再上传到Linux环境。</li>
<li>接下来：解压压缩包，再进入（cd）到解压后的目录 redis-3.0.7  再编译构建（make命令）。最后安装(make install命令)</li>
</ul>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><pre><code># redis-server 
</code></pre><blockquote>
<p>执行 redis-server命令后，如下面所示，则证明安装成功。</p>
</blockquote>
<pre><code>10714:C 03 May 22:24:47.216 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
10714:M 03 May 22:24:47.216 * Increased maximum number of open files to 10032 (it was originally set to 1024).
                _._                                                  
           _.-``__ &apos;&apos;-._                                             
      _.-``    `.  `_.  &apos;&apos;-._           Redis 3.0.7 (00000000/0) 64 bit
  .-`` .-```.  ```\/    _.,_ &apos;&apos;-._                                   
 (    &apos;      ,       .-`  | `,    )     Running in standalone mode
 |`-._`-...-` __...-.``-._|&apos;` _.-&apos;|     Port: 6379
 |    `-._   `._    /     _.-&apos;    |     PID: 10714
  `-._    `-._  `-./  _.-&apos;    _.-&apos;                                   
 |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|                                  
 |    `-._`-._        _.-&apos;_.-&apos;    |           http://redis.io        
  `-._    `-._`-.__.-&apos;_.-&apos;    _.-&apos;                                   
 |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|                                  
 |    `-._`-._        _.-&apos;_.-&apos;    |                                  
  `-._    `-._`-.__.-&apos;_.-&apos;    _.-&apos;        
</code></pre>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/05/03/Redis.brief/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/head.gif?wo"
               alt="Haima" />
          <p class="site-author-name" itemprop="name">Haima</p>
          <p class="site-description motion-element" itemprop="description">649766951|北京</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
            <div class="links-of-blogroll-title">亲情链接</div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.xiaoxiaomo.com/" target="_blank">小小默的blog</a>
                </li>
              
            </ul>
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Haima</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">总访客数<i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span>人次</span>
  

  
    <span class="site-pv">总访问量<i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"refly"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  

  

</body>
</html>
